<template>
  <div>
    <!-- ã‚¹ãƒ†ãƒƒãƒ—ã‚¿ã‚¤ãƒˆãƒ« -->
    <div class="text-center mb-8">
      <h2 class="text-2xl font-bold text-gray-900 mb-2">
        ä¸»è¦æ©Ÿèƒ½ã®ã”ç´¹ä»‹
      </h2>
      <p class="text-gray-600">
        ã™ãŸãƒ­ã‚°ã®ä¾¿åˆ©ãªæ©Ÿèƒ½ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†
      </p>
    </div>

    <!-- æ©Ÿèƒ½ã‚«ãƒ¼ãƒ‰ -->
    <div class="space-y-6">
      <!-- å­¦ç¿’è¨˜éŒ²æ©Ÿèƒ½ -->
      <div 
        class="bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow cursor-pointer"
        :class="{ 'ring-2 ring-blue-500 bg-blue-50': activeFeature === 'study-tracking' }"
        @click="setActiveFeature('study-tracking')"
        tabindex="0"
        @keydown.enter="setActiveFeature('study-tracking')"
        @keydown.space.prevent="setActiveFeature('study-tracking')"
        role="button"
        :aria-pressed="activeFeature === 'study-tracking'"
      >
        <div class="flex items-start">
          <div class="flex-shrink-0">
            <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
              <span class="text-2xl" aria-hidden="true">ğŸ“Š</span>
            </div>
          </div>
          <div class="ml-4 flex-1">
            <h3 class="text-lg font-semibold text-gray-900 mb-2">
              å­¦ç¿’è¨˜éŒ²ãƒ»æ™‚é–“ç®¡ç†
            </h3>
            <p class="text-gray-600 mb-3">
              å­¦ç¿’ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’è¨˜éŒ²ã—ã€æ™‚é–“ã‚’å¯è¦–åŒ–ã§ãã¾ã™ã€‚ãƒãƒ¢ãƒ‰ãƒ¼ãƒ­ã‚¿ã‚¤ãƒãƒ¼ã‚‚æ­è¼‰ã€‚
            </p>
            <div class="flex flex-wrap gap-2">
              <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                å­¦ç¿’è¨˜éŒ²
              </span>
              <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                æ™‚é–“ç®¡ç†
              </span>
              <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                ãƒãƒ¢ãƒ‰ãƒ¼ãƒ­
              </span>
            </div>
          </div>
        </div>
      </div>

      <!-- ç›®æ¨™è¨­å®šæ©Ÿèƒ½ -->
      <div 
        class="bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow cursor-pointer"
        :class="{ 'ring-2 ring-blue-500 bg-blue-50': activeFeature === 'goal-setting' }"
        @click="setActiveFeature('goal-setting')"
        tabindex="0"
        @keydown.enter="setActiveFeature('goal-setting')"
        @keydown.space.prevent="setActiveFeature('goal-setting')"
        role="button"
        :aria-pressed="activeFeature === 'goal-setting'"
      >
        <div class="flex items-start">
          <div class="flex-shrink-0">
            <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
              <span class="text-2xl" aria-hidden="true">ğŸ¯</span>
            </div>
          </div>
          <div class="ml-4 flex-1">
            <h3 class="text-lg font-semibold text-gray-900 mb-2">
              ç›®æ¨™è¨­å®šãƒ»é€²æ—ç®¡ç†
            </h3>
            <p class="text-gray-600 mb-3">
              å­¦ç¿’ç›®æ¨™ã‚’è¨­å®šã—ã€é€²æ—ã‚’å¯è¦–åŒ–ã€‚è©¦é¨“æ—¥ã¾ã§ã®è¨ˆç”»çš„ãªå­¦ç¿’ã‚’ã‚µãƒãƒ¼ãƒˆã€‚
            </p>
            <div class="flex flex-wrap gap-2">
              <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                ç›®æ¨™è¨­å®š
              </span>
              <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                é€²æ—ç®¡ç†
              </span>
              <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                è¨ˆç”»ç«‹æ¡ˆ
              </span>
            </div>
          </div>
        </div>
      </div>

      <!-- çµ±è¨ˆãƒ»åˆ†ææ©Ÿèƒ½ -->
      <div 
        class="bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow cursor-pointer"
        :class="{ 'ring-2 ring-blue-500 bg-blue-50': activeFeature === 'analytics' }"
        @click="setActiveFeature('analytics')"
        tabindex="0"
        @keydown.enter="setActiveFeature('analytics')"
        @keydown.space.prevent="setActiveFeature('analytics')"
        role="button"
        :aria-pressed="activeFeature === 'analytics'"
      >
        <div class="flex items-start">
          <div class="flex-shrink-0">
            <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center">
              <span class="text-2xl" aria-hidden="true">ğŸ“ˆ</span>
            </div>
          </div>
          <div class="ml-4 flex-1">
            <h3 class="text-lg font-semibold text-gray-900 mb-2">
              å­¦ç¿’çµ±è¨ˆãƒ»åˆ†æ
            </h3>
            <p class="text-gray-600 mb-3">
              å­¦ç¿’ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’åˆ†æã—ã€åŠ¹ç‡çš„ãªå­¦ç¿’æ–¹æ³•ã‚’ææ¡ˆã€‚è‰è¡¨ç¤ºã§ç¶™ç¶šå­¦ç¿’ã‚’ä¿ƒé€²ã€‚
            </p>
            <div class="flex flex-wrap gap-2">
              <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800">
                çµ±è¨ˆè¡¨ç¤º
              </span>
              <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800">
                å­¦ç¿’åˆ†æ
              </span>
              <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800">
                è‰è¡¨ç¤º
              </span>
            </div>
          </div>
        </div>
      </div>

      <!-- ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ -->
      <div 
        class="bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow cursor-pointer"
        :class="{ 'ring-2 ring-blue-500 bg-blue-50': activeFeature === 'mobile' }"
        @click="setActiveFeature('mobile')"
        tabindex="0"
        @keydown.enter="setActiveFeature('mobile')"
        @keydown.space.prevent="setActiveFeature('mobile')"
        role="button"
        :aria-pressed="activeFeature === 'mobile'"
      >
        <div class="flex items-start">
          <div class="flex-shrink-0">
            <div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center">
              <span class="text-2xl" aria-hidden="true">ğŸ“±</span>
            </div>
          </div>
          <div class="ml-4 flex-1">
            <h3 class="text-lg font-semibold text-gray-900 mb-2">
              ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œãƒ»ã©ã“ã§ã‚‚å­¦ç¿’
            </h3>
            <p class="text-gray-600 mb-3">
              ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã§ã‚‚å¿«é©ã«åˆ©ç”¨å¯èƒ½ã€‚ç§»å‹•ä¸­ã§ã‚‚å­¦ç¿’è¨˜éŒ²ãŒã§ãã¾ã™ã€‚
            </p>
            <div class="flex flex-wrap gap-2">
              <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800">
                ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–
              </span>
              <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800">
                ã‚¿ãƒƒãƒæ“ä½œ
              </span>
              <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800">
                ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œ
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- è©³ç´°æƒ…å ±è¡¨ç¤º -->
    <div v-if="activeFeature" class="mt-8 p-6 bg-gray-50 rounded-lg">
      <div class="text-center">
        <div class="text-4xl mb-3" v-html="featureDetails[activeFeature].icon"></div>
        <h4 class="text-lg font-semibold text-gray-900 mb-2">
          {{ featureDetails[activeFeature].title }}
        </h4>
        <p class="text-gray-600 mb-4">
          {{ featureDetails[activeFeature].description }}
        </p>
        <div class="text-sm text-blue-600">
          {{ featureDetails[activeFeature].tip }}
        </div>
      </div>
    </div>

    <!-- ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ -->
    <div class="mt-8 p-4 bg-blue-50 border border-blue-200 rounded-lg">
      <div class="flex">
        <div class="flex-shrink-0">
          <span class="text-blue-500 text-xl" aria-hidden="true">ğŸ’¡</span>
        </div>
        <div class="ml-3">
          <h4 class="text-sm font-medium text-blue-900">
            ãƒ’ãƒ³ãƒˆ
          </h4>
          <p class="mt-1 text-sm text-blue-800">
            å„æ©Ÿèƒ½ã‚«ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨è©³ç´°æƒ…å ±ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ã™ã¹ã¦ã®æ©Ÿèƒ½ã¯ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†å¾Œã™ãã«åˆ©ç”¨ã§ãã¾ã™ã€‚
          </p>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import { ref } from 'vue'

export default {
  name: 'FeatureStep',
  setup() {
    const activeFeature = ref(null)

    const featureDetails = {
      'study-tracking': {
        icon: 'ğŸ“Š',
        title: 'å­¦ç¿’è¨˜éŒ²ãƒ»æ™‚é–“ç®¡ç†',
        description: 'å­¦ç¿’ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’é–‹å§‹/çµ‚äº†ãƒœã‚¿ãƒ³ã§ç°¡å˜è¨˜éŒ²ã€‚ãƒãƒ¢ãƒ‰ãƒ¼ãƒ­ã‚¿ã‚¤ãƒãƒ¼ã§é›†ä¸­åŠ›ã‚’ç¶­æŒã—ã€å­¦ç¿’åˆ†é‡åˆ¥ã«æ™‚é–“ã‚’ç®¡ç†ã§ãã¾ã™ã€‚',
        tip: 'ğŸ’¡ ãƒãƒ¢ãƒ‰ãƒ¼ãƒ­ã‚¿ã‚¤ãƒãƒ¼ã¯25åˆ†é›†ä¸­ + 5åˆ†ä¼‘æ†©ã®ã‚µã‚¤ã‚¯ãƒ«ã§åŠ¹ç‡çš„ãªå­¦ç¿’ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™'
      },
      'goal-setting': {
        icon: 'ğŸ¯',
        title: 'ç›®æ¨™è¨­å®šãƒ»é€²æ—ç®¡ç†',
        description: 'æ—¥æ¬¡ãƒ»é€±æ¬¡ãƒ»æœˆæ¬¡ã®å­¦ç¿’ç›®æ¨™ã‚’è¨­å®šã—ã€é€²æ—ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ç¢ºèªã€‚è©¦é¨“æ—¥ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹å ´åˆã¯ã€æ®‹ã‚Šæ—¥æ•°ã‚‚è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚',
        tip: 'ğŸ’¡ SMARTãªç›®æ¨™è¨­å®šï¼ˆå…·ä½“çš„ã€æ¸¬å®šå¯èƒ½ã€é”æˆå¯èƒ½ã€é–¢é€£æ€§ã€æœŸé™ä»˜ãï¼‰ã‚’ãŠã™ã™ã‚ã—ã¾ã™'
      },
      'analytics': {
        icon: 'ğŸ“ˆ',
        title: 'å­¦ç¿’çµ±è¨ˆãƒ»åˆ†æ',
        description: 'å­¦ç¿’æ™‚é–“ã®æ¨ç§»ã€åˆ†é‡åˆ¥ã®å­¦ç¿’ãƒãƒ©ãƒ³ã‚¹ã€ç¶™ç¶šæ—¥æ•°ãªã©ã‚’å¯è¦–åŒ–ã€‚GitHubã®ã‚ˆã†ãªè‰è¡¨ç¤ºã§å­¦ç¿’ã®ç¶™ç¶šã‚’ä¿ƒé€²ã—ã¾ã™ã€‚',
        tip: 'ğŸ’¡ é€±ã”ã¨ã®å­¦ç¿’ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’åˆ†æã—ã¦ã€æœ€ã‚‚é›†ä¸­ã§ãã‚‹æ™‚é–“å¸¯ã‚’è¦‹ã¤ã‘ã¾ã—ã‚‡ã†'
      },
      'mobile': {
        icon: 'ğŸ“±',
        title: 'ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œãƒ»ã©ã“ã§ã‚‚å­¦ç¿’',
        description: 'ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã‚„ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã§ã®æ“ä½œã«æœ€é©åŒ–ã€‚ç§»å‹•ä¸­ã®é›»è»Šå†…ã‚„ä¼‘æ†©æ™‚é–“ã§ã‚‚ã€æ‰‹è»½ã«å­¦ç¿’è¨˜éŒ²ã‚’ä»˜ã‘ã‚‰ã‚Œã¾ã™ã€‚',
        tip: 'ğŸ’¡ PWAã«å¯¾å¿œäºˆå®šã§ã€ã‚¢ãƒ—ãƒªã®ã‚ˆã†ã«ãƒ›ãƒ¼ãƒ ç”»é¢ã«è¿½åŠ ã—ã¦åˆ©ç”¨ã§ãã¾ã™'
      }
    }

    const setActiveFeature = (featureKey) => {
      activeFeature.value = activeFeature.value === featureKey ? null : featureKey
    }

    return {
      activeFeature,
      featureDetails,
      setActiveFeature
    }
  }
}
</script>

<style scoped>
/* ã‚«ãƒ¼ãƒ‰é¸æŠæ™‚ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
.cursor-pointer {
  transition: all 0.2s ease-in-out;
}

.cursor-pointer:hover {
  transform: translateY(-1px);
}

.cursor-pointer:focus {
  outline: none;
}

/* ãƒªãƒ³ã‚°åŠ¹æœã®ã‚¹ãƒ ãƒ¼ã‚ºãªé©ç”¨ */
.ring-2 {
  transition: box-shadow 0.2s ease-in-out;
}

/* ã‚¿ã‚°ã®ã‚¹ã‚¿ã‚¤ãƒ«èª¿æ•´ */
.inline-flex {
  transition: all 0.15s ease-in-out;
}
</style>